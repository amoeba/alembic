[package]
name = "alembic"
version = "0.1.0"
edition = "2021"

[build]
target = ["i686-pc-windows-msvc"]

[lib]
name = "alembic"
path = "src/lib.rs"
crate-type = ["cdylib"]

[[bin]]
name = "incant"
path = "src/main.rs"

[dependencies]
anyhow = "1.0.95"
ctor = "0.2.9"
ctrlc = { version = "3.4.5", features = ["termination"] }
dll-syringe = "0.15.2"
once_cell = "1.20.2"
region = "3.0.2"
retour = { version = "0.3", features = ["static-detour", "thiscall-abi"] }
tarpc = { version = "0.35.0", features = ["serde-transport-json", "tcp"] }
tokio = { version = "1.43.0", features = ["macros", "net", "rt-multi-thread"] }
widestring = "1.1.0"
win_dbg_logger = "0.1.0"

[dependencies.windows]
version = "0.58.0"
features = [
    "Win32_Foundation",
    "Win32_Security",
    "Win32_System_SystemServices",
    "Win32_UI_WindowsAndMessaging",
    "Win32_System_LibraryLoader",
    "Win32_Storage_FileSystem",
    "Win32_System_Console",
    "Win32_System_Memory",
    "Win32_System_Threading",
    "Win32_System_ProcessStatus",
]
