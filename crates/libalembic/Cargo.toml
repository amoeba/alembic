[package]
name = "libalembic"
description = "WIP"
edition = "2021"

version.workspace = true
authors.workspace = true
license.workspace = true
repository.workspace = true
readme.workspace = true

# TODO: Do I want to have feature flags in this crate?
[features]
full = []

[dependencies]
anyhow = { workspace = true }
config = { version = "0.15.5", features = ["toml"] }
ctor = "0.2.9"
directories = "6.0.0"
once_cell = "1.20.2"
region = "3.0.2"
serde = { version = "1.0.217", features = ["derive"] }
tarpc = { workspace = true }
tokio = { workspace = true }
toml = "0.8.19"

[target.'cfg(all(target_os = "windows", target_env = "msvc"))'.dependencies]
dll-syringe = "0.15.2"
retour = { version = "0.3", features = ["static-detour", "thiscall-abi"] }
widestring = "1.1.0"

[target.'cfg(all(target_os = "windows", target_env = "msvc"))'.dependencies.windows]
version = "0.58.0"
features = [
    "Win32_Foundation",
    "Win32_Security",
    "Win32_System_SystemServices",
    "Win32_UI_WindowsAndMessaging",
    "Win32_System_LibraryLoader",
    "Win32_Storage_FileSystem",
    "Win32_System_Console",
    "Win32_System_Memory",
    "Win32_System_Threading",
    "Win32_System_ProcessStatus",
]
